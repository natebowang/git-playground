name: Check code, run tests, and build artifacts

on:
  - push

jobs:

  check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Init repo
        uses: ./.github/shared/init

      - name: check
        run: echo "check code"

  test:
    runs-on: ubuntu-latest
    steps:
      - name: check
        run: echo "test"

  build:
    needs: [check, test]
    runs-on: ubuntu-latest
    steps:
      - name: check
        run: echo "build"
